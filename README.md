<p align="center">
  <img src="https://img.shields.io/badge/Python-3.11+-blue?style=for-the-badge&logo=python&logoColor=white" alt="Python">
  <img src="https://img.shields.io/badge/FastAPI-0.109-009688?style=for-the-badge&logo=fastapi&logoColor=white" alt="FastAPI">
  <img src="https://img.shields.io/badge/Docker-Ready-2496ED?style=for-the-badge&logo=docker&logoColor=white" alt="Docker">
</p>

<h1 align="center">SecureDocs</h1>

<p align="center">
  <b>Система многослойного шифрования документов</b>
</p>

<p align="center">
  <a href="README.md">Русский</a> | <a href="README_EN.md">English</a>
</p>

---

## О проекте

SecureDocs — веб-приложение для шифрования документов с использованием нескольких слоёв криптографической защиты. Простой интерфейс позволяет зашифровать файл в пару кликов.

### Возможности

| Функция | Описание |
|---------|----------|
| Многослойное шифрование | AES-256-GCM + ChaCha20-Poly1305 + RSA-4096 |
| Веб-интерфейс | Современный UI в стиле Material Design |
| Drag & Drop | Перетаскивание файлов для загрузки |
| Автогенерация паролей | Криптостойкие пароли при необходимости |
| Docker | Разворачивание одной командой |
| Автоочистка | Удаление файлов через 24 часа |

---

## Быстрый старт

### Docker (рекомендуется)

```bash
git clone <repository>
cd document_encryption_system
docker-compose up --build
```

Откройте браузер: **http://localhost:8000**

### Локальный запуск

```bash
pip install -r requirements.txt
cd app
python main.py
```

---

## Использование

### Шифрование

1. Откройте вкладку **«Зашифровать»**
2. Перетащите файл или нажмите для выбора
3. Введите пароль (или оставьте пустым для автогенерации)
4. Нажмите **«Зашифровать»**
5. Скачайте **зашифрованный файл** и **ключ**

### Расшифровка

1. Откройте вкладку **«Расшифровать»**
2. Загрузите зашифрованный файл
3. Загрузите файл ключа
4. Введите пароль (если использовался)
5. Нажмите **«Расшифровать»**

---

## Архитектура шифрования

```
┌─────────────────────────────────────────────────────────┐
│                    ИСХОДНЫЙ ФАЙЛ                        │
└─────────────────────┬───────────────────────────────────┘
                      ▼
┌─────────────────────────────────────────────────────────┐
│  1. СЖАТИЕ (zlib)                                       │
└─────────────────────┬───────────────────────────────────┘
                      ▼
┌─────────────────────────────────────────────────────────┐
│  2. AES-256-GCM                                         │
│     • 256-битный ключ                                   │
│     • Аутентифицированное шифрование                    │
└─────────────────────┬───────────────────────────────────┘
                      ▼
┌─────────────────────────────────────────────────────────┐
│  3. ChaCha20-Poly1305                                   │
│     • Дополнительный слой защиты                        │
│     • Устойчивость к timing-атакам                      │
└─────────────────────┬───────────────────────────────────┘
                      ▼
┌─────────────────────────────────────────────────────────┐
│  4. КАСТОМНЫЕ ПРЕОБРАЗОВАНИЯ                            │
│     • S-box подстановки                                 │
│     • Перестановки байтов                               │
│     • 16 раундов                                        │
└─────────────────────┬───────────────────────────────────┘
                      ▼
┌─────────────────────────────────────────────────────────┐
│  5. RSA-4096 (защита ключей)                            │
│     • Симметричные ключи шифруются RSA                  │
└─────────────────────┬───────────────────────────────────┘
                      ▼
┌─────────────────────────────────────────────────────────┐
│  6. HMAC-SHA512 (целостность)                           │
│     • Проверка подлинности данных                       │
└─────────────────────┴───────────────────────────────────┘
```

---

## API

| Метод | Endpoint | Описание |
|-------|----------|----------|
| `POST` | `/api/encrypt` | Зашифровать документ |
| `POST` | `/api/decrypt` | Расшифровать документ |
| `GET` | `/api/download/{id}/{type}` | Скачать файл |

### Пример запроса

```bash
curl -X POST "http://localhost:8000/api/encrypt" \
  -F "file=@document.pdf" \
  -F "password=mypassword"
```

---

## Структура проекта

```
document_encryption_system/
├── app/
│   ├── main.py              # FastAPI приложение
│   ├── static/
│   │   ├── css/style.css    # Стили
│   │   └── js/main.js       # Логика фронтенда
│   └── templates/
│       └── index.html       # HTML шаблон
├── core/                    # Ядро шифрования
│   ├── encryption_engine.py
│   ├── decryption_engine.py
│   └── key_manager.py
├── algorithms/              # Алгоритмы
│   ├── aes_handler.py
│   ├── chacha_handler.py
│   └── rsa_handler.py
├── security/                # Безопасность
├── utils/                   # Утилиты
├── config/                  # Конфигурация
├── Dockerfile
├── docker-compose.yml
└── requirements.txt
```

---

## Поддерживаемые форматы

| Формат | Расширения |
|--------|------------|
| PDF | `.pdf` |
| Word | `.doc`, `.docx` |
| Excel | `.xls`, `.xlsx` |
| Текст | `.txt` |

---

## Безопасность

- **PBKDF2** — 600 000 итераций для деривации ключей
- **AEAD** — аутентифицированное шифрование
- **RSA-4096** — асимметричная защита ключей
- **HMAC-SHA512** — контроль целостности
- **Автоочистка** — файлы удаляются через 24 часа

---

## Разработка

```bash
cd app
uvicorn main:app --reload --host 0.0.0.0 --port 8000
```

---

## Лицензия

Проект создан в образовательных целях.

---

<p align="center">
  <sub>AES-256-GCM • ChaCha20-Poly1305 • RSA-4096 • HMAC-SHA512</sub>
</p>
